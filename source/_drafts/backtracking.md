---
title: 回溯算法
date: 2025-06-07 20:25:58
categories: 算法
---

所有的回溯问题都可以抽象成在树形结构中的搜索问题。
<!-- ### 回溯三问
1. 当前操作
要如何向`path[i]`填入元素以增量构建答案
1. 子问题
2. 下一个子问题 -->
### 子集型回溯
子集型问题可以从两个角度思考
* 输入的角度 选/不选
  当遍历到当前元素时，是否要将其加入子集。在这种角度下，树中只有叶子节点是答案
  1. 当前操作
  下标为`i`的元素选/不选
  2. 子问题
  从下标`>=i`的元素中构造子集
  3. 下一个子问题
  从下标`>=i+1`的元素中构造子集
* 答案的角度 枚举每个元素都选谁
  当要在答案中添加第`i`个元素时，考虑如何选择这个元素。在这种角度下，树中每个节点都是答案。
  1. 当前操作
  枚举下标`j>=i`的元素加入子集
  2. 子问题
  从下标`>=i`的元素中构造子集
  3. 下一个子问题
  从下标`>=j+1`的元素中构造子集
### 组合型回溯
可以看作子集大小固定的子集问题。相比子集问题，由于大小固定，组合问题可以进行一些额外的剪枝优化。


### 排列型回溯
1. 当前操作
从集合`s`中枚举`path[i]`要填入的元素
2. 子问题
构造排列中`>=i`的部分，集合为`s`
3. 下一个子问题
构造排列中`>=i + 1`的部分，集合为`s - {path[i]}`
#### 回溯的时间复杂度分析
#### N皇后问题的优化

### 参考
* [回溯算法-灵茶山艾府](https://www.bilibili.com/video/BV1mG4y1A7Gu?vd_source=1b489354a93cea86233fbc3b504a62be&spm_id_from=333.788.videopod.sections)